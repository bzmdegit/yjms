{"remainingRequest":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\src\\components\\Login.vue","mtime":1574470828761},{"path":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIC8vMTrkv53lrZjkuKTkuKrmlbDmja4KICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGhvbmU6ICIiLAogICAgICB1cHdkOiAiIgogICAgfTsKICB9LAogIC8vMjrmt7vliqDlh73mlbBsb2dpbiDlrozmiJDnmbvlvZUKICBtZXRob2RzOiB7CiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkgewogICAgICBpZiAod2luZG93Lmhpc3RvcnkubGVuZ3RoIDw9IDEpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAiL0luZGV4IgogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICB9CiAgICB9LAogICAgSnVtcEluZGV4OiBmdW5jdGlvbiBKdW1wSW5kZXgoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvSW5kZXgiKTsKICAgIH0sCiAgICBKdW1wUmVnOiBmdW5jdGlvbiBKdW1wUmVnKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL1JlZyIpOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8v5Yqf6IO9OuWujOaIkOeUqOaIt+eZu+W9leaTjeS9nAogICAgICAvLzE65Yib5bu65q2j5YiZ6KGo6L6+5byPIDN+MTIKICAgICAgdmFyIHRlZyA9IC9eMSgzfDR8NXw3fDgpXGR7OX0kLzsKICAgICAgdmFyIHJlZyA9IC9eW2EtejAtOV17MywxMn0kL2k7IC8vMjrojrflj5bnlKjmiLfovpPlhaUg5omL5py65Y+3L+WvhueggQoKICAgICAgdmFyIHUgPSB0aGlzLnBob25lOwogICAgICB2YXIgcCA9IHRoaXMudXB3ZDsKICAgICAgY29uc29sZS5sb2codSArICJfIiArIHApOyAvLzM66aqM6K+B5omL5py65Y+35aaC5p6c5LiN5Yy56YWNCgogICAgICBpZiAoIXRlZy50ZXN0KHUpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZWJveCgi5raI5oGvIiwgIuaJi+acuuagvOW8j+S4jeato+ehriIpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLzQ66aqM6K+B5a+G56CB5aaC5p6c5LiN5Yy56YWNCgoKICAgICAgaWYgKCFyZWcudGVzdChwKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Vib3goIua2iOaBryIsICLlr4bnoIHmoLzlvI/kuI3mraPnoa4iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy81OuWPkemAgWFqYXjor7fmsYLlrozmiJDnmbvlvZXpqozor4EKCgogICAgICB2YXIgdXJsID0gIi91c2UvbG9naW4iOwogICAgICB2YXIgb2JqID0gewogICAgICAgIHBob25lOiB1LAogICAgICAgIHVwd2Q6IHAKICAgICAgfTsKICAgICAgdGhpcy5heGlvcy5nZXQodXJsLCB7CiAgICAgICAgcGFyYW1zOiBvYmoKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEuY29kZSk7CgogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDEpIHsKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL0luZGV4Iik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiR0b2FzdCgi5omL5py65ZKM5a+G56CB5pyJ6K+vIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,eAAA;AACA;AACA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA;AACA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,eAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA;AACA,KARA;AASA,IAAA,SATA,uBASA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,KAXA;AAYA,IAAA,OAZA,qBAYA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA,KAdA;AAeA,IAAA,KAfA,mBAeA;AAAA;;AACA;AACA;AACA,UAAA,GAAA,GAAA,qBAAA;AACA,UAAA,GAAA,GAAA,mBAAA,CAJA,CAKA;;AACA,UAAA,CAAA,GAAA,KAAA,KAAA;AACA,UAAA,CAAA,GAAA,KAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA,GAAA,GAAA,GAAA,CAAA,EARA,CASA;;AACA,UAAA,CAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA,EAAA;AACA,aAAA,WAAA,CAAA,IAAA,EAAA,SAAA;AACA;AACA,OAbA,CAcA;;;AACA,UAAA,CAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA,EAAA;AACA,aAAA,WAAA,CAAA,IAAA,EAAA,SAAA;AACA;AACA,OAlBA,CAmBA;;;AACA,UAAA,GAAA,GAAA,YAAA;AACA,UAAA,GAAA,GAAA;AAAA,QAAA,KAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,SAAA;AACA;AACA,OAPA;AAQA;AA7CA;AATA,CAAA","sourcesContent":["<template>\r\n  <div class=\"app-login\">\r\n    <div class=\"header\">\r\n      <img src=\"../assets/icon-left.png\" @click=\"back()\" style=\"wdith:20px;height:20px\" />\r\n      <h2 style=\"margin:auto; font-size:18px\">登录</h2>\r\n    </div>\r\n    <div class=\"mt-1\">\r\n      <img src=\"../assets/icon-phone.png\" style=\"width:25px;height:25px\" />\r\n      <mt-field placeholder=\"手机号\" type=\"tel\" v-model=\"phone\"></mt-field>\r\n    </div>\r\n    <div class=\"mt-2\">\r\n      <img src=\"../assets/icon-sock.png\" style=\"width:25px;height:25px\" />\r\n      <input placeholder=\"密码\" class=\"mt-2-2\" type=\"password\" v-model=\"upwd\"/>\r\n    </div>\r\n    <mt-button size=\"large\" class=\"mt-login\" @click=\"login()\">登录</mt-button>\r\n    <div class=\"mt-3\">\r\n      <a href=\"#\" @click=\"JumpIndex()\">先去逛逛&gt;</a>\r\n    </div>\r\n    <div>其他方式登录</div>\r\n    <div class=\"login-icon\">\r\n      <img src=\"../assets/icon-weixin.png\" />\r\n      <img src=\"../assets/icon-zpay.png\" />\r\n      <img src=\"../assets/icon-weibo.png\" />\r\n    </div>\r\n    <span class=\"noreg\">\r\n      未注册?\r\n      <a href=\"#\" @click=\"JumpReg\">立即注册</a>\r\n    </span>\r\n    <div class=\"footer\">\r\n      <p>注册/登录即表示同意</p>\r\n      <span>《隐私政策》</span>\r\n      <span>《服务协议》</span>\r\n      <span>《免责声明》</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  //1:保存两个数据\r\n  data() {\r\n    return {\r\n      phone: \"\",\r\n      upwd: \"\"\r\n    };\r\n  },\r\n  //2:添加函数login 完成登录\r\n  methods: {\r\n    back() {\r\n      if (window.history.length <= 1) {\r\n        this.$router.push({ path: \"/Index\" });\r\n        return false;\r\n      } else {\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n    JumpIndex() {\r\n      this.$router.push(\"/Index\");\r\n    },\r\n    JumpReg() {\r\n      this.$router.push(\"/Reg\");\r\n    },\r\n    login() {\r\n      //功能:完成用户登录操作\r\n      //1:创建正则表达式 3~12\r\n      var teg = /^1(3|4|5|7|8)\\d{9}$/;\r\n      var reg = /^[a-z0-9]{3,12}$/i;\r\n      //2:获取用户输入 手机号/密码\r\n      var u = this.phone;\r\n      var p = this.upwd;\r\n      console.log(u + \"_\" + p);\r\n      //3:验证手机号如果不匹配\r\n      if (!teg.test(u)) {\r\n        this.$messagebox(\"消息\", \"手机格式不正确\");\r\n        return;\r\n      }\r\n      //4:验证密码如果不匹配\r\n      if (!reg.test(p)) {\r\n        this.$messagebox(\"消息\", \"密码格式不正确\");\r\n        return;\r\n      }\r\n      //5:发送ajax请求完成登录验证\r\n      var url = \"/use/login\";\r\n      var obj = { phone: u, upwd: p };\r\n      this.axios.get(url, { params: obj }).then(res => {\r\n        console.log(res.data.code);\r\n        if (res.data.code == 1) {\r\n          this.$router.push(\"/Index\");\r\n        } else {\r\n          this.$toast(\"手机和密码有误\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.app-login {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n  text-align: center;\r\n  margin: 15px 20px;\r\n}\r\n.mt-1 {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 25px;\r\n  margin-top: 150px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n}\r\n.mt-2 {\r\n  display: flex;\r\n  align-items: center;\r\n  float: right;\r\n  padding-left: 25px;\r\n  margin-top: 20px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n}\r\n.mt-2-2{\r\n  border: none;\r\n  height: 50px;\r\n  padding-left:14px; \r\n  font-size: 16px;\r\n}\r\n.mt-login {\r\n  width: 100%;\r\n  height: 45px;\r\n  margin-top: 20px;\r\n  background: #8bbd6f;\r\n}\r\n.mt-3 {\r\n  margin-top: 20px;\r\n  margin-left: 80%;\r\n  margin-bottom: 10px;\r\n}\r\n.mt-3 a {\r\n  color: #aaa;\r\n}\r\n.login-icon {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  text-align: center;\r\n  padding: 20px 40px;\r\n}\r\n.login-icon img {\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n.noreg {\r\n  margin-bottom: 100px;\r\n}\r\n.noreg a {\r\n  color: #8bbd6f;\r\n}\r\n.header {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.footer {\r\n  margin-top: 25px;\r\n}\r\n.footer p {\r\n  margin-bottom: 5px;\r\n  color: #aaa;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}