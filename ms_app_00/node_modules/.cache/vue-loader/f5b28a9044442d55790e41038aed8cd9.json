{"remainingRequest":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\src\\components\\Login.vue","mtime":1574470828761},{"path":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tarena\\Desktop\\ms\\ms_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIC8vMTrkv53lrZjkuKTkuKrmlbDmja4NCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcGhvbmU6ICIiLA0KICAgICAgdXB3ZDogIiINCiAgICB9Ow0KICB9LA0KICAvLzI65re75Yqg5Ye95pWwbG9naW4g5a6M5oiQ55m75b2VDQogIG1ldGhvZHM6IHsNCiAgICBiYWNrKCkgew0KICAgICAgaWYgKHdpbmRvdy5oaXN0b3J5Lmxlbmd0aCA8PSAxKSB7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9JbmRleCIgfSk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7DQogICAgICB9DQogICAgfSwNCiAgICBKdW1wSW5kZXgoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL0luZGV4Iik7DQogICAgfSwNCiAgICBKdW1wUmVnKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9SZWciKTsNCiAgICB9LA0KICAgIGxvZ2luKCkgew0KICAgICAgLy/lip/og7065a6M5oiQ55So5oi355m75b2V5pON5L2cDQogICAgICAvLzE65Yib5bu65q2j5YiZ6KGo6L6+5byPIDN+MTINCiAgICAgIHZhciB0ZWcgPSAvXjEoM3w0fDV8N3w4KVxkezl9JC87DQogICAgICB2YXIgcmVnID0gL15bYS16MC05XXszLDEyfSQvaTsNCiAgICAgIC8vMjrojrflj5bnlKjmiLfovpPlhaUg5omL5py65Y+3L+WvhueggQ0KICAgICAgdmFyIHUgPSB0aGlzLnBob25lOw0KICAgICAgdmFyIHAgPSB0aGlzLnVwd2Q7DQogICAgICBjb25zb2xlLmxvZyh1ICsgIl8iICsgcCk7DQogICAgICAvLzM66aqM6K+B5omL5py65Y+35aaC5p6c5LiN5Yy56YWNDQogICAgICBpZiAoIXRlZy50ZXN0KHUpKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Vib3goIua2iOaBryIsICLmiYvmnLrmoLzlvI/kuI3mraPnoa4iKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgLy80OumqjOivgeWvhueggeWmguaenOS4jeWMuemFjQ0KICAgICAgaWYgKCFyZWcudGVzdChwKSkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlYm94KCLmtojmga8iLCAi5a+G56CB5qC85byP5LiN5q2j56GuIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIC8vNTrlj5HpgIFhamF46K+35rGC5a6M5oiQ55m75b2V6aqM6K+BDQogICAgICB2YXIgdXJsID0gIi91c2UvbG9naW4iOw0KICAgICAgdmFyIG9iaiA9IHsgcGhvbmU6IHUsIHVwd2Q6IHAgfTsNCiAgICAgIHRoaXMuYXhpb3MuZ2V0KHVybCwgeyBwYXJhbXM6IG9iaiB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmNvZGUpOw0KICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAxKSB7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9JbmRleCIpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJHRvYXN0KCLmiYvmnLrlkozlr4bnoIHmnInor68iKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"app-login\">\r\n    <div class=\"header\">\r\n      <img src=\"../assets/icon-left.png\" @click=\"back()\" style=\"wdith:20px;height:20px\" />\r\n      <h2 style=\"margin:auto; font-size:18px\">登录</h2>\r\n    </div>\r\n    <div class=\"mt-1\">\r\n      <img src=\"../assets/icon-phone.png\" style=\"width:25px;height:25px\" />\r\n      <mt-field placeholder=\"手机号\" type=\"tel\" v-model=\"phone\"></mt-field>\r\n    </div>\r\n    <div class=\"mt-2\">\r\n      <img src=\"../assets/icon-sock.png\" style=\"width:25px;height:25px\" />\r\n      <input placeholder=\"密码\" class=\"mt-2-2\" type=\"password\" v-model=\"upwd\"/>\r\n    </div>\r\n    <mt-button size=\"large\" class=\"mt-login\" @click=\"login()\">登录</mt-button>\r\n    <div class=\"mt-3\">\r\n      <a href=\"#\" @click=\"JumpIndex()\">先去逛逛&gt;</a>\r\n    </div>\r\n    <div>其他方式登录</div>\r\n    <div class=\"login-icon\">\r\n      <img src=\"../assets/icon-weixin.png\" />\r\n      <img src=\"../assets/icon-zpay.png\" />\r\n      <img src=\"../assets/icon-weibo.png\" />\r\n    </div>\r\n    <span class=\"noreg\">\r\n      未注册?\r\n      <a href=\"#\" @click=\"JumpReg\">立即注册</a>\r\n    </span>\r\n    <div class=\"footer\">\r\n      <p>注册/登录即表示同意</p>\r\n      <span>《隐私政策》</span>\r\n      <span>《服务协议》</span>\r\n      <span>《免责声明》</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  //1:保存两个数据\r\n  data() {\r\n    return {\r\n      phone: \"\",\r\n      upwd: \"\"\r\n    };\r\n  },\r\n  //2:添加函数login 完成登录\r\n  methods: {\r\n    back() {\r\n      if (window.history.length <= 1) {\r\n        this.$router.push({ path: \"/Index\" });\r\n        return false;\r\n      } else {\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n    JumpIndex() {\r\n      this.$router.push(\"/Index\");\r\n    },\r\n    JumpReg() {\r\n      this.$router.push(\"/Reg\");\r\n    },\r\n    login() {\r\n      //功能:完成用户登录操作\r\n      //1:创建正则表达式 3~12\r\n      var teg = /^1(3|4|5|7|8)\\d{9}$/;\r\n      var reg = /^[a-z0-9]{3,12}$/i;\r\n      //2:获取用户输入 手机号/密码\r\n      var u = this.phone;\r\n      var p = this.upwd;\r\n      console.log(u + \"_\" + p);\r\n      //3:验证手机号如果不匹配\r\n      if (!teg.test(u)) {\r\n        this.$messagebox(\"消息\", \"手机格式不正确\");\r\n        return;\r\n      }\r\n      //4:验证密码如果不匹配\r\n      if (!reg.test(p)) {\r\n        this.$messagebox(\"消息\", \"密码格式不正确\");\r\n        return;\r\n      }\r\n      //5:发送ajax请求完成登录验证\r\n      var url = \"/use/login\";\r\n      var obj = { phone: u, upwd: p };\r\n      this.axios.get(url, { params: obj }).then(res => {\r\n        console.log(res.data.code);\r\n        if (res.data.code == 1) {\r\n          this.$router.push(\"/Index\");\r\n        } else {\r\n          this.$toast(\"手机和密码有误\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.app-login {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n  text-align: center;\r\n  margin: 15px 20px;\r\n}\r\n.mt-1 {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 25px;\r\n  margin-top: 150px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n}\r\n.mt-2 {\r\n  display: flex;\r\n  align-items: center;\r\n  float: right;\r\n  padding-left: 25px;\r\n  margin-top: 20px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n}\r\n.mt-2-2{\r\n  border: none;\r\n  height: 50px;\r\n  padding-left:14px; \r\n  font-size: 16px;\r\n}\r\n.mt-login {\r\n  width: 100%;\r\n  height: 45px;\r\n  margin-top: 20px;\r\n  background: #8bbd6f;\r\n}\r\n.mt-3 {\r\n  margin-top: 20px;\r\n  margin-left: 80%;\r\n  margin-bottom: 10px;\r\n}\r\n.mt-3 a {\r\n  color: #aaa;\r\n}\r\n.login-icon {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  text-align: center;\r\n  padding: 20px 40px;\r\n}\r\n.login-icon img {\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n.noreg {\r\n  margin-bottom: 100px;\r\n}\r\n.noreg a {\r\n  color: #8bbd6f;\r\n}\r\n.header {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.footer {\r\n  margin-top: 25px;\r\n}\r\n.footer p {\r\n  margin-bottom: 5px;\r\n  color: #aaa;\r\n}\r\n</style>\r\n"]}]}